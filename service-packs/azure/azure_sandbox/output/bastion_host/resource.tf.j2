resource "azurerm_bastion_host" "{{ bastion_host.name }}" {
  ## Required Vars
  name   = "{{ bastion_host.name }}"
  resource_group_name   = "{{ bastion_host.resource_group_name }}"
  location   = "{{ bastion_host.location }}"

  ## Optional Vars
  copy_paste_enabled   = {{ bastion_host.copy_paste_enabled }}
  file_copy_enabled   = {{ bastion_host.file_copy_enabled }}
  sku   = "{{ bastion_host.sku }}"
  ip_connect_enabled   = {{ bastion_host.ip_connect_enabled }}
  scale_units   = "{{ bastion_host.scale_units }}"
  shareable_link_enabled   = {{ bastion_host.shareable_link_enabled }}
  tunneling_enabled   = {{ bastion_host.tunneling_enabled }}
  tags   = "{{ bastion_host.tags | to_json | safe }}"

  ## Blocks
  ip_configuration {
    ## Required Block Vars
    name   = "{{ bastion_host.ip_configuration.name }}"
    subnet_id   = "{{ bastion_host.ip_configuration.subnet_id }}"
    public_ip_address_id   = "{{ bastion_host.ip_configuration.public_ip_address_id }}"
  }
}
