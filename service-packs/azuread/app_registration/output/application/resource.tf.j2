resource "azuread_application" "{{ application.name }}" {
  ## Required Vars
  display_name   = "{{ application.display_name }}"

  ## Optional Vars
  description   = "{{ application.description }}"
  device_only_auth_enabled   = {{ application.device_only_auth_enabled }}
  fallback_public_client_enabled   = {{ application.fallback_public_client_enabled }}
  group_membership_claims   = "{{ application.group_membership_claims | to_json | safe }}"
  identifier_uris   = "{{ application.identifier_uris | to_json | safe }}"
  logo_image   = "{{ application.logo_image }}"
  marketing_url   = "{{ application.marketing_url }}"
  notes   = "{{ application.notes }}"
  oauth2_post_response_required   = {{ application.oauth2_post_response_required }}
  owners   = "{{ application.owners | to_json | safe }}"
  prevent_duplicate_names   = {{ application.prevent_duplicate_names }}
  privacy_statement_url   = "{{ application.privacy_statement_url }}"
  service_management_reference   = "{{ application.service_management_reference }}"
  sign_in_audience   = "{{ application.sign_in_audience }}"
  support_url   = "{{ application.support_url }}"
  tags   = "{{ application.tags | to_json | safe }}"
  template_id   = "{{ application.template_id }}"
  terms_of_service_url   = "{{ application.terms_of_service_url }}"

  ## Blocks
  api {
    ## Optional Block Vars
    known_client_applications   = "{{ application.api.known_client_applications | to_json | safe }}"
    mapped_claims_enabled   = {{ application.api.mapped_claims_enabled }}
    oauth2_permission_scope {
    }
    requested_access_token_version   = "{{ application.api.requested_access_token_version }}"
  }
  oauth2_permission_scope {
    ## Required Block Vars
    admin_consent_description   = "{{ application.oauth2_permission_scope.admin_consent_description }}"
    admin_consent_display_name   = "{{ application.oauth2_permission_scope.admin_consent_display_name }}"
    id   = "{{ application.oauth2_permission_scope.id }}"
    ## Optional Block Vars
    enabled   = {{ application.oauth2_permission_scope.enabled }}
    type   = "{{ application.oauth2_permission_scope.type }}"
    user_consent_description   = "{{ application.oauth2_permission_scope.user_consent_description }}"
    user_consent_display_name   = "{{ application.oauth2_permission_scope.user_consent_display_name }}"
    value   = "{{ application.oauth2_permission_scope.value }}"
  }
  app_role {
    ## Required Block Vars
    allowed_member_types   = "{{ application.app_role.allowed_member_types }}"
    description   = "{{ application.app_role.description }}"
    display_name   = "{{ application.app_role.display_name }}"
    id   = "{{ application.app_role.id }}"
    ## Optional Block Vars
    enabled   = {{ application.app_role.enabled }}
    value   = "{{ application.app_role.value }}"
  }
  feature_tags {
    ## Optional Block Vars
    custom_single_sign_on   = {{ application.feature_tags.custom_single_sign_on }}
    enterprise   = {{ application.feature_tags.enterprise }}
    gallery   = {{ application.feature_tags.gallery }}
    hide   = {{ application.feature_tags.hide }}
  }
  optional_claims {
    ## Optional Block Vars
    access_token {
      ## Optional Block Vars
      additional_properties   = "{{ application.optional_claims.access_token.additional_properties | to_json | safe }}"
      essential   = {{ application.optional_claims.access_token.essential }}
      name   = "{{ application.optional_claims.access_token.name }}"
      source   = "{{ application.optional_claims.access_token.source }}"
    }
    id_token {
      ## Optional Block Vars
      additional_properties   = "{{ application.optional_claims.id_token.additional_properties | to_json | safe }}"
      essential   = {{ application.optional_claims.id_token.essential }}
      name   = "{{ application.optional_claims.id_token.name }}"
      source   = "{{ application.optional_claims.id_token.source }}"
    }
    saml2_token {
      ## Optional Block Vars
      additional_properties   = "{{ application.optional_claims.saml2_token.additional_properties | to_json | safe }}"
      essential   = {{ application.optional_claims.saml2_token.essential }}
      name   = "{{ application.optional_claims.saml2_token.name }}"
      source   = "{{ application.optional_claims.saml2_token.source }}"
    }
  }
  public_client {
    ## Optional Block Vars
    redirect_uris   = "{{ application.public_client.redirect_uris | to_json | safe }}"
  }
  required_resource_access {
    ## Required Block Vars
    resource_access {
      ## Required Block Vars
      id   = "{{ application.required_resource_access.resource_access.id }}"
      type   = "{{ application.required_resource_access.resource_access.type }}"
    }
    resource_app_id   = "{{ application.required_resource_access.resource_app_id }}"
  }
  single_page_application {
    ## Optional Block Vars
    redirect_uris   = "{{ application.single_page_application.redirect_uris | to_json | safe }}"
  }
  web {
    ## Optional Block Vars
    homepage_url   = "{{ application.web.homepage_url }}"
    implicit_grant {
      ## Optional Block Vars
      access_token_issuance_enabled   = {{ application.web.implicit_grant.access_token_issuance_enabled }}
      id_token_issuance_enabled   = {{ application.web.implicit_grant.id_token_issuance_enabled }}
    }
    logout_url   = "{{ application.web.logout_url }}"
    redirect_uris   = "{{ application.web.redirect_uris | to_json | safe }}"
  }
}
