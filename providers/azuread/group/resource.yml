resource:
  name: "azuread_group"
  enable_variable_comments: false
  var_name: "group"
  required_vars:
    - name: "display_name"
      description: "The display name for the group"
      type: "string"
  optional_vars:
    - name: "assignable_to_role"
      description: "Indicates whether this group can be assigned to an Azure Active Directory role; Default false"
      default_value: false
      type: "boolean"
    - name: "auto_subscribe_new_members"
      description: "Indicates whether new members added to the group will be auto-subscribed to receive email notifications"
      type: "string"
    - name: "behaviors"
      description: "A set of behaviors for a Microsoft 365 group. AllowOnlyMembersToPost, HideGroupInOutlook, SubscribeMembersToCalendarEventsDisabled etc"
      type: "list"
    - name: "description"
      description: "The description for the group"
      type: "string"
    - name: "dynamic_membership"
      description: "A dynamic_membership block; Required when types contains DynamicMembership"
      type: "block"
    - name: "external_senders_allowed"
      description: "Indicates whether people external to the organization can send messages to the group"
      default_value: false
      type: "boolean"
    - name: "hide_from_address_lists"
      description: "Indicates whether the group is displayed in certain parts of the Outlook user interface"
      type: "boolean"
    - name: "hide_from_outlook_clients"
      description: "Indicates whether the group is displayed in Outlook clients"
      type: "boolean"
    - name: "mail_enabled"
      description: "Whether the group is a mail enabled, with a shared group mailbox"
      type: "boolean"
    - name: "mail_nickname"
      description: "The mail alias for the group, unique in the organisation"
      type: "string"
    - name: "members"
      description: "A set of members who should be present in this group; Cannot be used with dynamic_membership block"
      type: "string"
    - name: "onpremises_group_type"
      description: "The on-premises group type that the AAD group will be written as; UniversalDistributionGroup, UniversalMailEnabledSecurityGroup etc"
      type: "string"
    - name: "owners"
      description: "A set of object IDs of principals that will be granted ownership of the group"
      type: "list"
    - name: "prevent_duplicate_names"
      description: "If true, will return an error if an existing group is found with the same name; Default false"
      default_value: false
      type: "string"
    - name: "provisioning_options"
      description: "A set of provisioning options for a Microsoft 365 group; Only support value is Team"
      type: "string"
    - name: "security_enabled"
      description: "Whether the group is a security group for controlling access to in-app resources; security_enabled or mail_enabled must be specified"
      type: "boolean"
    - name: "theme"
      description: "The colour theme for a Microsoft 365 group; Blue, Green, Orange, Pink, Purple, Red or Teal"
      type: "string"
    - name: "types"
      description: "A set of group types to configure for the group; DynamicMembership or Unified; Required when mail_enabled is true"
      type: "string"
    - name: "visibility"
      description: "The group join policy and group content visibility; Private, Public or HiddenMembership"
      type: "string"
    - name: "writeback_enabled"
      description: "Whether the group will be written back to the configured on-premises AD"
      type: "boolean"

blocks:
  - name: "dynamic_membership"
    required: false
    description: "Dynamic Membership Block"
    required_vars:
      - name: "enabled"
        description: "Whether rule processing is On [true] or Paused [false]"
        type: "boolean"
      - name: "role"
        description: "The rule that determines membership of this group"
        type: "string"
