resource:
  name: "aws_network_acl"
  enable_variable_comments: false
  var_name: "network_acl"
  required_vars:
    - name: "vpc_id"
      description: "The ID of the associated VPC"
      type: "string"
  optional_vars:
    - name: "subnet_ids"
      description: "A list of Subnet IDs to apply the ACL to"
      type: "list"
    - name: "ingress"
      description: "Specifies an ingress rule block"
      type: "block"
    - name: "egress"
      description: "Specifies an egress rule block"
      type: "block"
    - name: "tags"
      description: "A map of tags to assign to the resource"
      type: "list"

blocks:
  - name: "ingress"
    required: false
    description: "Ingress rule block"
    required_vars:
      - name: "from_port"
        description: "The from port to match"
        type: "string"
      - name: "to_port"
        description: "The to port to match"
        type: "string"
      - name: "rule_no"
        description: "The rule number. Used for ordering"
        type: "string"
      - name: "action"
        description: "The action to take"
        type: "string"
      - name: "protocol"
        description: "The protocol to match; icmp, icmpv6, tcp, udp or all"
        type: "string"
    optional_vars:
      - name: "cidr_block"
        description: "The CIDR block to match"
        type: "string"
      - name: "ipv6_cidr_block"
        description: "The IPv6 CIDR block"
        type: "string"
      - name: "icmp_type"
        description: "The ICMP type to be used"
        type: "string"
      - name: "icmp_code"
        description: "The ICMP type code"
        type: "string"
  - name: "egress"
    required: false
    description: "Egress rule block"
    required_vars:
      - name: "from_port"
        description: "The from port to match"
        type: "string"
      - name: "to_port"
        description: "The to port to match"
        type: "string"    
      - name: "rule_no"
        description: "The rule number. Used for ordering"
        type: "string"
      - name: "action"
        description: "The action to take"
        type: "string"
      - name: "protocol"
        description: "The protocol to match; icmp, icmpv6, tcp, udp or all"
        type: "string"
    optional_vars:
      - name: "cidr_block"
        description: "The CIDR block to match"
        type: "string"
      - name: "ipv6_cidr_block"
        description: "The IPv6 CIDR block"
        type: "string"
      - name: "icmp_type"
        description: "The ICMP type to be used"
        type: "string"
      - name: "icmp_code"
        description: "The ICMP type code"
        type: "string"
