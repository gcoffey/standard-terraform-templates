resource "azurerm_app_service_environment_v3" "{{ app_service_environment_v3.name }}" {
  ## Required Vars
  name   = "{{ app_service_environment_v3.name }}"
  resource_group_name   = "{{ app_service_environment_v3.resource_group_name }}"
  subnet_id   = "{{ app_service_environment_v3.subnet_id }}"

  ## Optional Vars
  internal_load_balancing_mode   = "{{ app_service_environment_v3.internal_load_balancing_mode }}"
  allow_new_private_endpoint_connections   = {{ app_service_environment_v3.allow_new_private_endpoint_connections }}
  dedicated_host_count   = "{{ app_service_environment_v3.dedicated_host_count }}"
  zone_redundant   = "{{ app_service_environment_v3.zone_redundant }}"
  tags   = "{{ app_service_environment_v3.tags | to_json | safe }}"

  ## Blocks
  cluster_setting {
    ## Required Block Vars
    name   = "{{ app_service_environment_v3.cluster_setting.name }}"
    value   = "{{ app_service_environment_v3.cluster_setting.value }}"
  }
}
