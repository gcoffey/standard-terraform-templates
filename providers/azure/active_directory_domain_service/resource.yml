resource:
  name: "azurerm_active_directory_domain_service"
  enable_variable_comments: false
  var_name: "active_directory_domain_service"
  required_vars:
    - name: "domain_name"
      description: "The Active Directory domain to use"
      type: "string"
    - name: "location"
      description: "The Azure location where the Domain Service exists"
      type: "string"
    - name: "name"
      description: "The display name for your managed Active Directory Domain Service"
      type: "string"
    - name: "initial_replica_set"
      description: "Initial replica set block"
      type: "block"
    - name: "resource_group_name"
      description: "The name of the Resource Group in which the Domain Service should exist"
      type: "string"
    - name: "sku"
      description: "The SKU to use when provisioning the Domain Service; Standard, Enterprise or Premium"
      type: "string"
  optional_vars:
    - name: "domain_configuration_type"
      description: "The configuration type of this Active Directory Domain; FullySynced or ResourceTrusting"
      type: "string"
    - name: "filtered_sync_enabled"
      description: "Whether to enable group-base filtered sync; Default false"
      type: "boolean"
    - name: "secure_ldap"
      description: "A secure ldap block"
      type: "block"
    - name: "notifications"
      description: "A notifications block"
      type: "block"
    - name: "security"
      description: "A security block"
      type: "block"
    - name: "tags"
      description: "A mapping of tags to assign to the resource"
      type: "list"

blocks:
  - name: "secure_ldap"
    required: false 
    description: "Secure LDAP block"
    required_vars:
      - name: "enabled"
        description: "Whether to enable Secure LDAP for the managed domain"
        type: "boolean"
      - name: "pfx_certificate"
        description: "The certificate/private key to use for LDAPS, base64-encoded TripleDES-SHA1 encrypted PKCS12 bundle [pfx]"
        type: "string"
      - name: "pfx_certificate_password"
        description: "The password to use for decrypting the PKCS12 bundle [pfx]"
        type: "string"
    optional_vars:
      - name: "external_access_enabled"
        description: "Whether to enable external access to LDAPS of the Internet; Default false"
        type: "boolean"
  - name: "notifications"
    required: false
    description: "A notifications block"
    optional_vars:
      - name: "additional_recipients"
        description: "A list of additional email addresses to notify when there are alerts in the managed domain"
        type: "string"
      - name: "notify_dc_admins"
        description: "Whether to notify members of the AAD DC Administrators group when there are alerts in the managed domain"
        type: "boolean"
      - name: "notify_global_admins"
        description: "Whether to notify all Global Administrators when there are alerts in the managed domain"
        type: "boolean"
  - name: "initial_replica_set"
    required: false
    description: "Initial Replica Set"
    required_vars:
      - name: "subnet_id"
        description: "The ID of the subnet in which to place the initial replica set"
        type: "string"
  - name: "security"
    required: false
    description: "Security block"
    optional_vars:
      - name: "kerberos_armoring_enabled"
        description: "Whether to enable Kerberos Armoring; Default false"
        type: "boolean"
      - name: "kerberos_rc4_encryption_enabled"
        description: "Whether to enable Kerberos RC4 Encryption; Default false"
        type: "boolean"
      - name: "ntlm_v1_enabled"
        description: "Whether to enable legacy NTLM v1 support; Default false"
        type: "boolean"
      - name: "sync_kerberos_passwords"
        description: "Whether to synchronize Kerberos password hashes to the managed domain; Default false"
        type: "boolean"
      - name: "sync_ntlm_passwords"
        description: "Whether to synchronize NTLM password hashes to the managed domain; Default false"
        type: "boolean"
      - name: "sync_on_prem_passwords"
        description: "Whether to synchronize on-premises password hashes to the managed domain; Default false"
        type: "boolean"
      - name: "tls_v1_enabled"
        description: "Whether to enable legacy TLS v1 support; Default false"
        type: "boolean"
  - name: "subscription_key_parameter_names"
    required: false
    description: "Subscription key parameter query and header setting block"
    required_vars:
      - name: "header"
        description: "The name of the HTTP Header to use for the subscription key"
        type: "string"
      - name: "query"
        description: "The name of the QueryString param for the subscription key"
        type: "string"
  - name: "wsdl_selector"
    required: false
    parent_block: "import"
    description: "Import WSDL"
    required_vars:
      - name: "service_name"
        description: "The name of the service to import"
        type: "string"
      - name: "endpoint_name"
        description: "The name of the endpoint to import"
        type: "string"
