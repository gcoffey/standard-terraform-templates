resource:
  name: "azurerm_app_service_source_control_slot"
  enable_variable_comments: false
  var_name: "app_service_source_control_slot"
  required_vars:
    - name: "slot_id"
      description: "The ID of the Linux or Windows Web App slot"
      type: "string"
  optional_vars:
    - name: "branch"
      description: "The branch name to use for deployments"
      type: "string"
    - name: "repo_url"
      description: "The URL for the repository"
      type: "string"
    - name: "github_action_configuration"
      description: "A github action configuration block"
      type: "block"
    - name: "use_manual_integration"
      description: "Should code be deployed manually; true, false; Default false"
      type: "boolean"
    - name: "rollback_enabled"
      description: "Should the Deployment Rollback be enabled?; true, false; Default false"
      type: "boolean"
    - name: "use_local_git"
      description: "Should the App use local Git configuration"
      type: "boolean"
    - name: "use_mercurial"
      description: "The repository specified is Mercurial; Default false"
      type: "boolean"

blocks:
  - name: "code_configuration"
    required: false
    parent_block: "github_action_configuration"
    description: "Code Configuration Block"
    required_vars:
      - name: "runtime_stack"
        description: "The value to use for the Runtime Stack; dotnetcore, spring, tomcat, node or python"
        type: "string"
      - name: "runtime_version"
        description: "The value to use for the Runtime Version"
        type: "string"
  - name: "container_configuration"
    required: false
    parent_block: "github_action_configuration"
    description: "Container Configuration Block"
    required_vars:
      - name: "image_name"
        description: "The image name for the build"
        type: "string"
      - name: "registry_url"
        description: "The server URL for the container registry"
        type: "string"
    optional_vars:
      - name: "registry_password"
        description: "The password used to upload the image to the container registry"
        type: "string"
      - name: "registry_username"
        description: "The username used to upload the image to the container registry"
        type: "string"
  - name: "github_action_configuration"
    required: false
    description: "Github Action Configuration Block"
    optional_vars:
      - name: "code_configuration"
        description: "A Code Configuration block"
        type: "block"
      - name: "container_configuration"
        description: "A Container Configuration Block"
        type: "block"
      - name: "generate_workflow_file"
        description: "Whether to generate the GitHub work flow file; Default true"
        type: "boolean"
      - name: "linux_action"
        description: "Denotes this action uses a Linux base image"
        type: "string"
