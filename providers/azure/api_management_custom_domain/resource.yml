resource:
  name: "azurerm_api_management_custom_domain"
  enable_variable_comments: false
  var_name: "api_management_custom_domain"
  required_vars:
    - name: "api_management_id"
      description: "The ID of the API Management Service"
      type: "string"
  optional_vars:
    - name: "developer_portal"
      description: "A developer portal block"
      type: "block"
    - name: "management"
      description: "A management block"
      type: "block"
    - name: "portal"
      description: "A portal block"
      type: "block"
    - name: "gateway"
      description: "A gateway block"
      type: "block"
    - name: "scm"
      description: "An scm blockr"
      type: "block"

blocks:
  - name: "developer_portal"
    required: false
    description: "A developer portal block"
    required_vars:
      - name: "host_name"
        description: "The hostname to use for the corresponding endpoint"
        type: "string"
    optional_vars:
      - name: "certificate"
        description: "The Base64 Encoded Certificate"
        type: "string"
      - name: "certificate_password"
        description: "The password associated with the certificate"
        type: "string"
      - name: "key_vault_id"
        description: "The ID of the Key Vault Secret containing the SSL cert"
        type: "string"
      - name: "negotiate_client_certificate"
        description: "Should Client Certificate Negotiation be enabled; Default false"
        type: "boolean"
      - name: "ssl_keyvault_identity_client_id"
        description: "System or User Assigned Managed Identity clientId from AzureAD"
        type: "string"
  - name: "management"
    required: false
    description: "A management block"
    required_vars:
      - name: "host_name"
        description: "The hostname to use for the corresponding endpoint"
        type: "string"
    optional_vars:
      - name: "certificate"
        description: "The Base64 Encoded Certificate"
        type: "string"
      - name: "certificate_password"
        description: "The password associated with the certificate"
        type: "string"
      - name: "key_vault_id"
        description: "The ID of the Key Vault Secret containing the SSL cert"
        type: "string"
      - name: "negotiate_client_certificate"
        description: "Should Client Certificate Negotiation be enabled; Default false"
        type: "boolean"
      - name: "ssl_keyvault_identity_client_id"
        description: "System or User Assigned Managed Identity clientId from AzureAD"
        type: "string"
  - name: "portal"
    required: false
    description: "A portal block"
    required_vars:
      - name: "host_name"
        description: "The hostname to use for the corresponding endpoint"
        type: "string"
    optional_vars:
      - name: "certificate"
        description: "The Base64 Encoded Certificate"
        type: "string"
      - name: "certificate_password"
        description: "The password associated with the certificate"
        type: "string"
      - name: "key_vault_id"
        description: "The ID of the Key Vault Secret containing the SSL cert"
        type: "string"
      - name: "negotiate_client_certificate"
        description: "Should Client Certificate Negotiation be enabled; Default false"
        type: "boolean"
      - name: "ssl_keyvault_identity_client_id"
        description: "System or User Assigned Managed Identity clientId from AzureAD"
        type: "string"
  - name: "scm"
    required: false
    description: "A scm portal block"
    required_vars:
      - name: "host_name"
        description: "The hostname to use for the corresponding endpoint"
        type: "string"
    optional_vars:
      - name: "certificate"
        description: "The Base64 Encoded Certificate"
        type: "string"
      - name: "certificate_password"
        description: "The password associated with the certificate"
        type: "string"
      - name: "key_vault_id"
        description: "The ID of the Key Vault Secret containing the SSL cert"
        type: "string"
      - name: "negotiate_client_certificate"
        description: "Should Client Certificate Negotiation be enabled; Default false"
        type: "boolean"
      - name: "ssl_keyvault_identity_client_id"
        description: "System or User Assigned Managed Identity clientId from AzureAD"
        type: "string"
  - name: "gateway"
    required: false
    description: "A gateway block"
    required_vars:
      - name: "host_name"
        description: "The hostname to use for the corresponding endpoint"
        type: "string"
    optional_vars:
      - name: "certificate"
        description: "The Base64 Encoded Certificate"
        type: "string"
      - name: "certificate_password"
        description: "The password associated with the certificate"
        type: "string"
      - name: "default_ssl_binding"
        description: "Is the certificate associated with this Hostname the default SSL cert?; Default false"
        type: "boolean"
      - name: "key_vault_id"
        description: "The ID of the Key Vault Secret containing the SSL cert"
        type: "string"
      - name: "negotiate_client_certificate"
        description: "Should Client Certificate Negotiation be enabled; Default false"
        type: "boolean"
      - name: "ssl_keyvault_identity_client_id"
        description: "System or User Assigned Managed Identity clientId from AzureAD"
        type: "string"
