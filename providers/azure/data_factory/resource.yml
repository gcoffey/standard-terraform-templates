resource:
  name: "azurerm_data_factory"
  enable_variable_comments: false
  var_name: "data_factory"
  required_vars:
    - name: "name"
      description: "The name of the Data Factory"
      type: "string"
    - name: "location"
      description: "Specifies the supported Azure location"
      type: "string"
    - name: "resource_group_name"
      description: "The resource group name in which to create the Data Factory"
      type: "string"
  optional_vars:
    - name: "github_configuration"
      description: "A github_configuration block"
      type: "block"
    - name: "global_parameter"
      description: "A global_parameter block"
      type: "block"
    - name: "identity"
      description: "An identity block"
      type: "block"
    - name: "vsts_configuration"
      description: "A vsts_configuration block"
      type: "block"
    - name: "managed_virtual_network_enabled"
      description: "Enable managed virtual networking"
      type: "boolean"
    - name: "public_network_enabled"
      description: "Allow Data Factory to be publically visible"
      default_value: true
      type: "boolean"
    - name: "customer_managed_key_id"
      description: "Specifies the Azure Key Vault Key ID to be used as the Customer Managed Key"
      type: "string"
    - name: "customer_managed_key_identity_id"
      description: "Specifies the ID of the user assigned identity associated with the Customer Managed Key"
      type: "string"
    - name: "purview_id"
      description: "Specifies the ID of the purview account resource associated with the Data Factory"
      type: "string"
    - name: "tags"
      description: "A mapping of tags"
      type: "map"

blocks:
  - name: "github_configuration"
    required: false
    description: "A Github configuration blockk"
    required_vars:
      - name: "account_name"
        description: "Specifies the GitHub account name"
        type: "string"
      - name: "branch_name"
        description: "Specifies the branch of the repository to get code from"
        type: "string"
      - name: "git_url"
        description: "Specifies the GitHub Enterprise host name"
        type: "string"
      - name: "repository_name"
        description: "Specifies the name of the git repository"
        type: "string"
      - name: "root_folder"
        description: "Specifies the root folder within the repository. Set to / for the top level"
        type: "string"
  - name: "global_parameter"
    required: false
    description: "A Global Parameter block"
    required_vars:
      - name: "name"
        description: "Specifies the global parameter name"
        type: "string"
      - name: "type"
        description: "Specifies the global parameter type; Array, Bool, Float, Int, Object or String"
        type: "string"
      - name: "value"
        description: "Specifies the global parameter value"
        type: "string"
  - name: "identity"
    required: false
    description: "An Identity Block"
    required_vars:
      - name: "type"
        description: "Specifies the type of Managed Service Identity; SystemAssigned or UserAssigned"
        type: "string"
    optional_vars:
      - name: "identity_ids"
        description: "Specifies a list of User Assigned Managed Identity IDs to be assigned to this Data Factory"
        type: "list"
  - name: "vsts_configuration"
    required: false
    description: "A VSTS Configuration Block"
    required_vars:
      - name: "account_name"
        description: "Specifies the VSTS account name"
        type: "string"
      - name: "branch_name"
        description: "Specifies the branch of the repository to get code from"
        type: "string"
      - name: "project_name"
        description: "Specifies the name of the VSTS project"
        type: "string"
      - name: "repository_name"
        description: "Specifies the name of the git repository"
        type: "string"
      - name: "root_folder"
        description: "Specifies the root folder within the repository; Set to / for the top level"
        type: "string"
      - name: "tenant_id"
        description: "Specifies the Tenant ID associated with the VSTS account"
        type: "string"
