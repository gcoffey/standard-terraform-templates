resource:
  name: "alicloud_instance"
  enable_variable_comments: false
  var_name: "instance"
  required_vars:
    - name: "image_id"
      description: "The image to use for the ECS instance"
      type: "string"
    - name: "instance_type"
      description: "The type of instance to start"
      type: "string"
    - name: "security_groups"
      description: "A list of security group ids to associate with"
      type: "list"
  optional_vars:
    - name: "is_outdated"
      description: "Whether to use outdated instance type"
      type: "boolean"
    - name: "availability_zone"
      description: "The zone to start the instance in"
      type: "string"
    - name: "instance_name"
      description: "The name of the ECS instance; 2 to 128 chars only alphanumeric and -,._"
      type: "string"
    - name: "system_disk_category"
      description: "Valid values ephemeral_ssd, cloud_efficiency, cloud_ssd, cloud_essd, cloud or cloud_auto"
      default_value: "cloud_efficiency"
      type: "string"
    - name: "system_disk_name"
      description: "The name of the system disk; 2 to 128 chars only alphanumeric and -,._"
      type: "string"
    - name: "system_disk_description"
      description: "The description of the system disk; 2 to 256 chars"
      type: "string"
    - name: "system_disk_size"
      description: "Size of the system disk in GB; range 20 to 500"
      default_value: 40
      type: "string"
    - name: "system_disk_performance_level"
      description: "The performance level of the ESSD when used as the system disk type; Values PL0, PL1, PL2 or PL3"
      default_value: "PL1"
      type: "string"
    - name: "system_disk_auto_snapshot_policy_id"
      description: "The ID of the automatic snapshot policy applied to the system disk"
      type: "string"
    - name: "system_disk_storage_cluster_id"
      description: "The ID of the dedicated block storage cluster"
      type: "string"
    - name: "system_disk_encrypted"
      description: "Whether to encrypt the system disk or not; true or false"
      default_value: false
      type: "boolean"
    - name: "system_disk_kms_key_id"
      description: "The ID of the Key Management Service key to be used for the system disk"
      type: "string"
    - name: "system_disk_encrypt_algorithm"
      description: "The algorithm to be used to encrypt the system disk; aes-256 or sm4-128"
      default_value: "aes-256"
      type: "string"
    - name: "description"
      description: "Description of the instance"
      type: "string"
    - name: "internet_charge_type"
      description: "Internet charge type of instance; PayByBandwidth or PayByTraffic"
      default_value: "PayByTraffic"
      type: "string"
    - name: "internet_max_bandwidth_in"
      description: "Maximum incoming bandwidth from the public network; 1 to 200 measured in Mbps"
      default_value: 200
      type: "string"
    - name: "internet_max_bandwidth_out"
      description: "Maximum outgoing bandwidth to the public network; 1 to 100 measured in Mbps"
      type: "string"
    - name: "host_name"
      description: "Host name of the ECS instance; For Windows a max of 15 chars"
      type: "string"
    - name: "password"
      description: "Password to an instance; 8 to 30 chars; must contain upper & lower alphanumeric no special chars"
      type: "string"
    - name: "kms_encrypted_password"
      description: "A reference to a password stored in KMS?"
      type: "string"
    - name: "kms_encryption_context"
      description: "KMS encryption context used to decrypt kms_encrypted_password"
      type: "string"
    - name: "vswitch_id"
      description: "The virtual switch ID to launch in the VPC; must be set unless classic nic used"
      type: "string"
    - name: "instance_charge_type"
      description: "Valid values are PrePaid & PostPaid"
      default_value: "PostPaid"
      type: "string"
    - name: "resource_group_id"
      description: "The Id of the Resource Group to place the instance"
      type: "string"
    - name: "period_unit"
      description: "The duration unit that you will buy the resouce; Week or Month"
      default_value: "Month"
      type: "string"
    - name: "period"
      description: "The duration that you will buy the resource"
      type: "string"
    - name: "renewal_status"
      description: "Whether to renew an ECS instance automatically or not; AutoRenewal, Normal or NotRenewal"
      default_value: "Normal"
      type: "string"
    - name: "auto_renew_period"
      description: "Auto renewal period of an instance, in months"
      default_value: 1
      type: "string"
    - name: "tags"
      description: "A mapping of tags to assign"
      type: "list"
    - name: "volume_tags"
      description: "A mapping of tags to apply to the disk volume"
      type: "list"
    - name: "user_data"
      description: "User-defined data to customize startup behavior"
      type: "string"
    - name: "key_name"
      description: "The name of the SSH key pair to grant access to this instance"
      type: "string"
    - name: "role_name"
      description: "Instance RAM role name"
      type: "string"
    - name: "include_data_disks"
      description: "Whether to change instance disks charge type when changing instance charge type"
      type: "boolean"
    - name: "dry_run"
      description: "Specifies whether to send a dry-run request"
      default_value: false
      type: "boolean"
    - name: "private_ip"
      description: "A private IP to assign to the ECS instance"
      type: "string"
    - name: "credit_specification"
      description: "Performance mode of the t5 burstable instance; Standard or Unlimited"
      type: "string"
    - name: "spot_strategy"
      description: "The spot strategy of a PAYG instance; NoSpot, SpotWithPriceLimit or SpotAsPriceGo"
      default_value: "NoSpot"
      type: "string"
    - name: "spot_price_limit"
      description: "The hourly price threshold of an instance"
      type: "string"
    - name: "deletion_protection"
      description: "Whether to enable protection from deletion"
      default_value: false
      type: "boolean"
    - name: "force_delete"
      description: "If true, the instance will be forcibly deleted"
      type: "boolean"
    - name: "auto_release_time"
      description: "The automatic release time of the PostPaid instance; ISO8601 format"
      type: "string"
    - name: "security_enhancement_strategy"
      description: "The security enhancements strategy; Active or Deactive?"
      type: "string"
    - name: "data_disks"
      description: "The list of data disks created with the instance"
      type: "block"
    - name: "status"
      description: "The instance status; Running or Stopped"
      type: "string"
    - name: "hpc_cluster_id"
      description: "The Id of the Elastic High Performance Computing cluster to place the instance?"
      type: "string"
    - name: "secondary_private_ips"
      description: "A list of Secondary private IPs to assign"
      type: "list"
    - name: "secondary_private_ip_address_count"
      description: "The number of private IP addresses to be automatically assigned from a CIDR block"
      type: "string"
    - name: "deployment_set_id"
      description: "The ID of the deployment set to which to deploy the instance"
      type: "string"
    - name: "operator_type"
      description: "The operation type?; upgrade or downgrade?? When you change instance_type?!"
      default_value: "Upgrade"
      type: "string"
    - name: "stopped_mode"
      description: "The stop mode of the PAYG instance; StopCharging, KeepCharing or Not-applicable"
      default_value: "StopCharging"
      type: "string"
    - name: "maintenance_time"
      description: "The time of maintenance"
      type: "block"
    - name: "maintenance_action"
      description: "The maintenance action; Stop, AutoRecover or AutoRedeploy"
      type: "string"
    - name: "maintenance_notify"
      description: "Specifies whether to send an event notification before instance shutdown"
      default_value: false
      type: "boolean"
    - name: "spot_duration"
      description: "The retention time of the preemptive instance in hours; 0 - 6"
      default_value: 1 
      type: "string"
    - name: "http_tokens"
      description: "Specifies whether to forcefully use the security-enhanced mode; optional or required"
      default_value: "optional"
      type: "string"
    - name: "http_endpoint"
      description: "Specifies whether to enable the access channel for instance metadata; enabled or disabled"
      default_value: "enabled"
      type: "string"
    - name: "http_put_response_hop_limit"
      description: "The HTTP PUT response hop limit for accessing metadata; 1 to 64"
      default_value: 1 
      type: "string"
    - name: "ipv6_address_count"
      description: "The number of IPv6 addresses to randomly generate for the primary ENI; 1 to 10"
      type: "string"
    - name: "ipv6_addresses"
      description: "A list of IPv6 addresses to be assigned to the primary ENI; max of 10"
      type: "list"
    - name: "dedicated_host_id"
      description: "The Id of the dedicated host on which to create the instance"
      type: "string"

blocks:
  - name: "data_disks"
    required: false 
    description: "A Data Disk Block"
    required_vars:
      - name: "size"
        description: "The size of the data disk in GB"
        type: "string"
    optional_vars:
      - name: "name"
        description: "The name of the data disk"
        type: "string"
      - name: "category"
        description: "The category of disk; cloud, cloud_efficiency, cloud_ssd, cloud_essd etc"
        default_value: "cloud_efficiency"
        type: "string"
      - name: "performance_level"
        description: "The performance level of the ESSD; PL0 - PL3"
        default_value: "PL1"
        type: "string"
      - name: "encrypted"
        description: "Is the disk encrypted"
        default_value: false
        type: "boolean"
      - name: "kms_key_id"
        description: "The KMS Key Id used to encrypt / decrypt the disk"
        type: "string"
      - name: "snapshot_id"
        description: "The snapshot Id used to initialize the disk"
        type: "string"
      - name: "auto_snapshot_policy_id"
        description: "The Id of the automatic snapshot policy applied to the disk"
        type: "string"
      - name: "delete_with_instance"
        description: "Delete this data disk when the instance is destroyed"
        default_value: true
        type: "boolean"
      - name: "description"
        description: "The description of the data disk"
        type: "string"
      - name: "device"
        description: "The mount point of the data disk"
        type: "string"
  - name: "maintenance_time"
    required: false
    description: "A maintenance time block"
    optional_vars:
      - name: "start_time"
        description: "The start time for the maintenance window"
        type: "string"
      - name: "end_time"
        description: "The end time for the maintenance window"
        type: "string"
